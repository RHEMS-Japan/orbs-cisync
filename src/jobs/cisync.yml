description: >
  Merge .circleci/config.yml into the other branch.
  This eliminates the differences in config.yml between branches, and enables application code and infrastructure code to be managed separately.

executor: default

parameters:
  merge-from:
    type: string
    default: $CIRCLE_BRANCH
    description: ""
  merge-to:
    type: string
    default: "ALL"
    description: ""
  user-name:
    type: string
    description: ""
  user-email:
    type: string
    description: ""
    
steps:
  - checkout
  - run: echo "[jobs]" << parameters.merge-from >>
  - cisync:
      merge-from: << parameters.merge-from >>
      merge-to: << parameters.merge-to >>
      user-name: << parameters.user-name >>
      user-email: << parameters.user-email >>
