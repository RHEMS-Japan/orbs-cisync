description: >
  Merge .circleci/config.yml into the other branch.
  This eliminates the differences in config.yml between branches, and enables application code and infrastructure code to be managed separately.

executor: default

parameters:
  merge-from:
    type: env_var_name
    default: CIRCLE_BRANCH
    description: ""
  merge-to:
    type: string
    default: "ALL"
    description: ""
steps:
  - checkout
  - run: echo "[jobs]" << parameters.merge-from >>
  - cisync:
      merge-from: << parameters.merge-from >>
      merge-to: << parameters.merge-to >>
