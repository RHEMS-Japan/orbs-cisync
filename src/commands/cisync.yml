description: >
  This command echos "Hello World" using file inclusion.
# What will this command do?
# Descriptions should be short, simple, and clear.

parameters:
  merge-from:
    type: string
    default: $CIRCLE_BRANCH
    description: ""
  merge-to:
    type: string
    default: "ALL"
    description: ""
  user-name:
    type: string
    description: ""
  user-email:
    type: string
    description: ""
  fingerprint:
    type: string
    description: ""

steps:
  - run: echo "[commands]" << parameters.merge-from >>
  - add_ssh_keys:
      fingerprints:
        - << parameters.fingerprint >>
        #- "88:9d:e5:dc:1d:9a:d7:d7:52:fc:c3:ad:4b:a3:3c:0e"
  - run:
      environment:
        MERGE_FROM: << parameters.merge-from >>
        MERGE_TO: << parameters.merge-to >>
        USER_NAME: << parameters.user-name >>
        USER_EMAIL: << parameters.user-email >>
      name: cisync
      command: << include(scripts/cisync.sh) >>
